---
import SiteLayout from "../layouts/SiteLayout.astro";
import logo from "../assets/consortium.png";
import { theme } from "../config/theme.js";

const { background, text, accent, border, bandBackground } = theme.colors;
---

<SiteLayout title="Guide pratique – Employé | Cybersécurité">
  <div style={`--bg: ${background}; --text: ${text}; --accent: ${accent}; --border: ${border}; --band: ${bandBackground};`}>

    <style>
      /* Surfaces Consortium */
      .card-surface { background: rgb(18,18,18); border: 1px solid rgba(0,0,0,0.16); box-shadow: 0 14px 40px rgba(0,0,0,0.18); }
      .card-icon { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.10); }
      .hover-tint { background: radial-gradient(circle at 18% 18%, color-mix(in srgb, var(--accent) 16%, transparent), transparent 62%); }
      .muted-on-dark { color: color-mix(in srgb, white 70%, transparent); }
      .soft-on-dark  { color: color-mix(in srgb, white 82%, transparent); }
      .band-title { color: rgba(17,17,17,0.92); }
      .band-soft  { color: rgba(17,17,17,0.75); }
      .band-muted { color: rgba(17,17,17,0.62); }
      .focus-ring:focus { outline: none; box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 30%, transparent); }
    </style>

    <!-- HEADER SLOT -->
    <div slot="header" class="flex flex-col items-center">
      <img src={logo.src} alt="Consortium" class="h-32 md:h-36 w-auto" />
      <h1 class="mt-2 text-sm tracking-[0.35em] uppercase"
          style="color: color-mix(in srgb, var(--text) 60%, transparent);">
        Guide pratique employé
      </h1>
    </div>

    <!-- HERO SLOT -->
    <div slot="hero" class="mx-auto max-w-4xl px-4 text-center relative z-10">
      <!-- Accent glow -->
      <div class="pointer-events-none absolute left-1/2 top-10 -translate-x-1/2 w-[72%] md:w-[62%] h-24 blur-[80px] opacity-90"
           style="background: linear-gradient(90deg, color-mix(in srgb, var(--accent) 20%, transparent), color-mix(in srgb, var(--accent) 12%, transparent), color-mix(in srgb, var(--accent) 20%, transparent));">
      </div>

      <h2 class="text-4xl md:text-5xl font-semibold tracking-tight text-[var(--text)] drop-shadow">
        Les bons réflexes numériques au quotidien
      </h2>

      <p class="mt-6 text-lg text-[color-mix(in_srgb,var(--text)_78%,transparent)] leading-relaxed">
        Ce guide vous aide à adopter des comportements simples mais essentiels pour protéger
        vos données, vos appareils et l’ensemble de notre organisation.
      </p>

      <div class="mt-6 flex flex-wrap items-center justify-center gap-2">
        <span class="pill">Mots de passe</span>
        <span class="pill">Courriels</span>
        <span class="pill">Télétravail</span>
        <span class="pill">Incident</span>
      </div>
    </div>

    <!-- FIXED BACK LINK -->
    <a
      href="/"
      class="fixed right-6 top-5 z-50 inline-flex items-center gap-2 px-4 py-2 rounded-lg
             bg-[rgba(18,18,18,0.78)] border border-[color-mix(in_srgb,var(--border)_65%,transparent)]
             text-[color-mix(in_srgb,var(--text)_92%,transparent)] text-sm font-medium
             shadow-lg backdrop-blur transition-all hover:opacity-95"
    >
      <span aria-hidden="true">←</span> Retour à la page Services TI
    </a>

    <!-- BAND (clair) + CONTENU -->
    <main class="relative w-full overflow-hidden mt-8 pt-14 pb-20" style="background: var(--band);">
      <!-- Accent top rule -->
      <div class="absolute inset-x-0 top-0 h-[3px]" style="background: var(--accent);"></div>

      <!-- Petite vague (optionnelle) -->
      <svg class="absolute inset-x-0 top-0 -translate-y-full w-full h-16" viewBox="0 0 1440 120" preserveAspectRatio="none" aria-hidden="true">
        <path
          d="M0,64 C240,120 480,0 720,56 C960,112 1200,24 1440,56 L1440,120 L0,120 Z"
          fill="var(--bg)"
          opacity="0.9"
        />
      </svg>

      <!-- Glow subtil sur le band -->
      <div class="pointer-events-none absolute left-1/2 top-14 -translate-x-1/2 w-[900px] h-[280px] blur-[90px] opacity-35"
           style="background: radial-gradient(circle at 50% 20%, color-mix(in srgb, var(--accent) 22%, transparent), transparent 60%);">
      </div>

      <div class="relative z-20 mx-auto max-w-5xl px-4 space-y-16">

        <!-- SECTION 1 – MOTS DE PASSE -->
        <section class="section-card">
          <div class="section-icon">
            <!-- Shield Check -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke-width="1.7">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M9 12.75L11.25 15 15 9.75m-9-3.27l6-2.48 6 2.48a2.25 2.25 0 011.35 2.10v4.64a8.96 8.96 0 01-4.89 7.97l-2.46 1.23-2.46-1.23A8.96 8.96 0 013.9 13.22V8.58a2.25 2.25 0 011.35-2.10z" />
            </svg>
          </div>

          <div class="flex-1 space-y-4">
            <h2 class="section-title">Protégez votre compte et vos mots de passe</h2>

            <p class="section-text">
              Votre compte Microsoft 365 donne accès à vos courriels, documents et outils de travail.
              Il doit être protégé comme un coffre-fort.
            </p>

            <div class="section-grid">
              <div class="tip-box">
                <p class="tip-title">1. Un mot de passe fort et unique</p>
                <p class="tip-text">
                  Utilisez un gestionnaire de mots de passe pour garantir des mots de passe forts et différents.
                </p>
              </div>

              <div class="tip-box">
                <p class="tip-title">2. Authentification multifacteur (MFA)</p>
                <p class="tip-text">
                  Validez toujours les notifications MFA. Si une demande apparaît sans que vous tentiez
                  de vous connecter, refusez-la immédiatement.
                </p>
              </div>
            </div>

            <div class="warning-box">
              <!-- Warning -->
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.8">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m0 3.75h.007m9.243-3.75a9.75 9.75 0 11-19.5 0 9.75 9.75 0 0119.5 0z" />
              </svg>

              <p>
                <span class="font-semibold text-slate-50">À éviter :</span>
                partager ou écrire votre mot de passe.
              </p>
            </div>
          </div>
        </section>

        <!-- SECTION 2 – COURRIEL -->
        <section class="section-card">
          <div class="section-icon">
            <!-- Mail -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke-width="1.7">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 7l8.48 5.26a2.25 2.25 0 002.5 0L22 7" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 7.5v9a2.25 2.25 0 01-2.25 2.25h-15A2.25 2.25 0 012.25 16.5v-9A2.25 2.25 0 014.5 5.25h15A2.25 2.25 0 0121.75 7.5z" />
            </svg>
          </div>

          <div class="flex-1 space-y-4">
            <h2 class="section-title">Courriels, pièces jointes et hameçonnage</h2>

            <p class="section-text">
              Le courriel est le principal vecteur d’attaque. Un seul clic peut compromettre un compte.
            </p>

            <div class="section-grid-3">
              <div class="tip-box">
                <p class="tip-title">1. Méfiez-vous des demandes urgentes</p>
                <p class="tip-text">Les fraudeurs utilisent la pression et l’urgence.</p>
              </div>

              <div class="tip-box">
                <p class="tip-title">2. Vérifiez l’expéditeur</p>
                <p class="tip-text">Un nom peut être imité — pas un domaine courriel.</p>
              </div>

              <div class="tip-box">
                <p class="tip-title">3. Attention aux pièces jointes</p>
                <p class="tip-text">Passez la souris sur les liens avant de cliquer.</p>
              </div>
            </div>

            <div class="good-box">
              <!-- Check -->
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.8">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m6 2.25a9.75 9.75 0 11-19.5 0A9.75 9.75 0 0121 12z" />
              </svg>

              <p>
                <span class="font-semibold text-slate-50">Bon réflexe :</span>
                transférez le message suspect à l’équipe TI.
              </p>
            </div>
          </div>
        </section>

        <!-- SECTION 3 – TÉLÉTRAVAIL -->
        <section class="section-card">
          <div class="section-icon">
            <!-- Laptop -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke-width="1.7">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0119.5 6v8.25H3.75V6z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18h19.5A1.5 1.5 0 0123 19.5v.75H1.5v-.75A1.5 1.5 0 012.25 18z" />
            </svg>
          </div>

          <div class="flex-1 space-y-4">
            <h2 class="section-title">Télétravail, appareils et Wi‑Fi</h2>

            <p class="section-text">
              Vos appareils doivent rester sécurisés, à jour, et utilisés dans un environnement fiable.
            </p>

            <div class="section-grid">
              <div class="tip-box">
                <p class="tip-title">1. Verrouillez votre écran</p>
                <p class="tip-text">Toujours verrouiller avant de quitter votre poste.</p>
              </div>

              <div class="tip-box">
                <p class="tip-title">2. Évitez le Wi‑Fi public</p>
                <p class="tip-text">Utilisez un VPN lorsque disponible.</p>
              </div>

              <div class="tip-box">
                <p class="tip-title">3. Mises à jour & antivirus</p>
                <p class="tip-text">Ne désactivez jamais les protections EDR.</p>
              </div>

              <div class="tip-box">
                <p class="tip-title">4. Données personnelles</p>
                <p class="tip-text">Ne synchronisez pas de données professionnelles sur des comptes privés.</p>
              </div>
            </div>
          </div>
        </section>

        <!-- SECTION 4 – INCIDENT -->
        <section class="section-card-glow">
          <div class="section-icon-large">
            <!-- Lifebuoy -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M16.24 7.76a6 6 0 11-8.48 0m8.48 8.48a6 6 0 01-8.48-8.48m8.48 0L15 9m-6 6l-1.24 1.24M9 9L7.76 7.76m8.48 8.48L15 15" />
            </svg>
          </div>

          <div class="flex-1 space-y-3">
            <h2 class="text-xl md:text-2xl font-semibold text-slate-50">
              En cas de doute ou d’incident, agissez rapidement
            </h2>

            <p class="text-[color-mix(in_srgb,var(--text)_90%,transparent)]">
              Une réaction rapide peut éviter une compromission ou la propagation d’un incident.
            </p>

            <div class="space-y-1 text-[var(--text)] text-sm md:text-base">
              <p>• Ne cliquez plus et ne répondez pas</p>
              <p>• Déconnectez votre appareil du réseau si nécessaire</p>
              <p>• Contactez immédiatement l’équipe TI</p>
            </div>
          </div>
        </section>

      </div>
    </main>
  </div>
</SiteLayout>

<style>
  .pill {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium
           border border-[color-mix(in_srgb,var(--border)_65%,transparent)]
           bg-[rgba(18,18,18,0.55)]
           text-[color-mix(in_srgb,var(--text)_88%,transparent)];
  }

  /* Section card styles */
.section-card {
  @apply relative rounded-2xl p-6 md:p-8 flex gap-4;
  background: rgb(18,18,18);
  border: 1px solid rgba(0,0,0,0.16);
  box-shadow: 0 14px 40px rgba(0,0,0,0.18);
}

.section-card-glow {
  @apply relative rounded-2xl p-6 md:p-8 flex gap-4 overflow-hidden;
  background: rgb(18,18,18);
  border: 1px solid rgba(0,0,0,0.16);
  box-shadow: 0 14px 40px rgba(0,0,0,0.18);
}

  .section-card-glow::before {
    content: "";
    position: absolute;
    inset: -2px;
    background: radial-gradient(circle at 18% 18%, color-mix(in srgb, var(--accent) 24%, transparent), transparent 55%);
    opacity: .65;
    pointer-events: none;
  }
  .section-card-glow > * { position: relative; z-index: 1; }

.section-icon {
  @apply h-12 w-12 flex items-center justify-center rounded-2xl;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
}
.section-icon-large {
  @apply h-14 w-14 flex items-center justify-center rounded-2xl;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
}

  .section-title {
    @apply text-xl md:text-2xl font-semibold text-slate-50;
  }

  .section-text {
    @apply text-[color-mix(in_srgb,var(--text)_78%,transparent)];
  }

  .section-grid {
    @apply grid gap-4 md:grid-cols-2 text-sm md:text-base;
  }

  .section-grid-3 {
    @apply grid gap-4 md:grid-cols-3 text-sm md:text-base;
  }

  .tip-box {
    @apply rounded-xl p-4 border border-[color-mix(in_srgb,var(--border)_65%,transparent)]
           bg-[rgba(18,18,18,0.55)];
  }

  .tip-title {
    @apply font-semibold text-[var(--text)] mb-1;
  }

  .tip-text {
    @apply text-[color-mix(in_srgb,var(--text)_78%,transparent)] leading-relaxed;
  }

  .warning-box,
  .good-box {
    @apply mt-2 rounded-xl px-4 py-3 flex items-start gap-2 text-sm md:text-[15px];
  }

  .warning-box {
    @apply border border-[color-mix(in_srgb,red_40%,transparent)] bg-[color-mix(in_srgb,red_12%,transparent)];
  }
  .warning-box svg { color: color-mix(in srgb, red 72%, white); }

  .good-box {
    @apply border border-[color-mix(in_srgb,emerald_40%,transparent)] bg-[color-mix(in_srgb,emerald_12%,transparent)];
  }
  .good-box svg { color: color-mix(in srgb, rgb(16 185 129) 75%, white); }
</style>
